<form *ngIf="article" (ngSubmit)="onSubmit()" #articleForm="ngForm">
    <div class="row">
      <div class="col s12 m8 offset-m2">
        <div class="card-panel">

          <!-- Article name -->
          <div class="form-group">
            <!-- <i class="material-icons prefix">info</i> -->
            <label for="name">Nom</label>
            <input
              type="text"
              class="form-control"
              id="name"
              required
              pattern="^[a-zA-Z0-9àéèç ]{1,35}$"
              [(ngModel)]="article.name" name="name"
              #name="ngModel">    
                <div *ngIf="!name.valid && !name.pristine"
                  class="card-panel red accent-1">
                  Le nom de l'article accepte 1 à 35 caractères. Il n'accepte pas les caractère spéciaux.
                </div>
          </div>

          <!-- Article image -->
          <div *ngIf="isAddForm" class="form-group">
            <!-- <i class="material-icons prefix">info</i> -->
            <label for="urlImg">Image</label>
            <input
              type="url"
              class="form-control"
              id="urlImg"
              required              
              [(ngModel)]="article.urlImg" name="urlImg"
              #urlImg="ngModel">    
                <div *ngIf="!urlImg.valid && !urlImg.pristine"
                  class="card-panel red accent-1">
                  L'image de l'article est requise.
                </div>
          </div>

          <!-- Article brand -->
          <div class="form-group">
            <!-- <i class="material-icons prefix">label</i> -->
            <label for="brand">Brand</label>
            <input
              type="text"
              class="form-control"
              id="brand"
              required
              pattern="^[a-zA-Z0-9àéèç ]{1,40}$"
              [(ngModel)]="article.brand" name="brand"
              #brand="ngModel">
                <div
                  *ngIf="!brand.valid && !brand.pristine"
                  class="card-panel red accent-1">
                  La marque de l'article accepte 1 à 40 caractères. Il n'accepte pas les caractère spéciaux.
                </div> 
               

          </div> 
          
          <!-- Article categories -->
          <form class="form-group">
            <!-- <i class="material-icons prefix">category</i> -->
            <label>Categories :</label>
              <p *ngFor="let category of categories">
                <label>
                  <input
                    type="checkbox"
                    class="filled-in"                    
                    id="category-{{ category | lowercase }}"                
                    [value]="category"
                    [checked]="hasCategory(category)"
                    [disabled]="!isCategoriesValid(category)"
                    (change)="selectCategory($event, category)"/>
                      <span [attr.for]="category">
                        <div class="{{ category | articleTypeColor }}">
                          {{ category }}
                        </div>
                      </span>
                </label>
              </p>            
          </form>         
          
          <!-- Article price -->
          <div class="form-group">
            <!-- <i class="material-icons prefix">attach_money</i> -->
            <label for="price">Price</label>
            <input type="number" class="form-control" id="price"
              required
              pattern="^[0-9]{1,5}$"
              [(ngModel)]="article.price" name="price"
              #price="ngModel">
              <div
                *ngIf="!price.valid && !price.pristine"
                class="card-panel red accent-1">
                Le prix de l'article accepte 1 à 5 nombres. Il n'accepte aucun autre caractère.
              </div>            
            
          </div>
          
          <!-- Article description -->
          <div class="form-group">
            <!-- <i class="material-icons prefix">attach_money</i> -->
            <label for="description">Description</label>
            <textarea
              class="materialize-textarea"
              type="text"
              id="description"
              required
              pattern="^[a-zA-Z0-9àéèç.,;: -'():]{1,400}$"
              [(ngModel)]="article.description" name="description"
              #description="ngModel">
            </textarea>   
              <div
                *ngIf="!description.valid && !description.pristine"
                class="card-panel red accent-1">
                La description de l'article accepte 1 à 400 caractères.
              </div>            
          </div>
    
          <!-- Submit button -->          
          <div class="section center">
            <button type="submit"
              class="waves-effect waves-light btn"
              [disabled]="!articleForm.form.valid">
              Valider
              <i class="material-icons right">send</i>
            </button>
          </div>
          
    
        </div>
      </div>
    </div>
  </form>
  <h3 *ngIf="!article" class="center">
    <app-loader></app-loader>
  </h3>